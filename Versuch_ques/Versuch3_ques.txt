Versuch3_ques.txt

5.4.1 WLAN配置
1.配置Raspberry Pi，并使用5.3.9节中给出的命令将其连接到接入点。你不需要固定频道和速率。

2.使用ping工具检查所有网络连接。特别是检查WLAN路由器的IP地址192.168.1.1是否可以到达。

3.使用网络时间协议(NTP)将Raspberry-Pi和您的笔记本电脑与系统时间time1.rrzn.uni-hannover.de同步。

4.检查时间同步是否通过有线网络运行。使用ip-route和ntpq确保时间服务器time1.rrzn.uni-hannover.de通过接口eth0到达。注意偏移和延迟值。
-----填表
5.现在设置你的路由表，让Raspberry Pi通过WLAN到达时间服务器。将偏移值和延迟值与前一个任务的值进行比较。为什么WLAN上的NTP不适合测量？
-----填表
6.撤销更改。

5.4.2通过有线网络进行流媒体传输
1. 使用清单15中的流媒体方法完成清单13和清单14中的简单客户/服务器代码示例，使视频流在有线网络（172.23.XX.XX）上运行。当调用raspivid和mplayer时，使用与清单18和20中相同的参数。 使用TCP作为传输协议。
2.启动一个流，用tcpdump记录服务器和客户端的流量，至少60秒。为了确保所有的数据包都被记录下来，首先启动tcpdump，然后再启动你的应用程序。
	注意：关闭分段卸载（Segmentation Offloading）!
	a)对于每个时间点，将客户端发送的视频包和服务器接收的视频包总数一起绘制在一张图像中。你可以使用tshark来分析录音，使用Gnuplot来绘制数据。确保你使用tshark只评估属于视频流的数据包。
	b) 计算前4000个视频数据包的单程延迟（OWD）的平均值和标准差。
		注意：要考虑到序列号!
			μOW D   σOW D
	c) 检查视频的比特率是否与发送的数据量相匹配。
		设置视频比特率 实际发送比特率
	     注意：在实验过程中，您将经常重复a)和b)部分所述步骤。建议创建一个脚本，接受两个pcap文件作为输入并执行这些步骤。
 
 5.4.3 通过无线局域网进行流媒体传输
1.通过WLAN设置流：RaspberryPi和笔记本电脑要通过WLAN连接到接入点。确保流通过正确的路径进行路由。用ip route更改路由表。
2.编写一个改进版的服务器和客户端代码，允许以下操作
	a) 调用（服务器和客户端）时，选择TCP和UDP作为参数。
	b) 在调用过程中输入raspivid参数作为参数。
  		 注意：命令行参数可以用argparse模块来处理
3.使用新的代码，比较流媒体在通过TCP和UDP播放时的性能。要做到这一点，用tcpdump记录服务器和客户端的流量至少60秒。
	a)对于每个时间点，将服务器发送的视频包和客户端接收的视频包总数一起绘制在一张图中。
	b) 计算前4000个数据包的平均数和标准差。
		 注意：UDP数据包没有序列号。在这里计算OWD时，你可以假设数据包到达的顺序是正确的（为了简化）。
	c) 你会推荐哪种传输协议用于WLAN上的视频流，为什么？
	d) 要准确计算UDP数据包的OWD，需要做哪些改变？
4.使用UDP，比较LAN和WLAN场景下的OWD（平均值和标准差）。将之前任务中已经使用的2Mbps的比特率与0.2 Mbps的比特率进行比较。为流的质量（图像质量、延迟）指定一个等级（++到--）。
5.比较raspivid不同参数设置的性能。至少改变分辨率和帧率。自己选择要测试的数值组合。至少测试3组参数。确定以后驾驶模型车所要用到的参数集。哪些参数很重要，你将如何设置？使用UDP和WLAN。
6 简单的服务器/客户端例子要求视频以1400字节的缓冲区传输。在WLAN UDP场景中，如果你发送的数据包比MTU（最大传输单位）小得多，会发生什么？比较使用1400字节缓冲区和10字节缓冲区时的性能。
7.如果缓冲区大于MTU会怎样？设置缓冲区大小为4000字节，在发射机处记录流量，用Wireshark对记录进行分析。

5.4.4 车辆上的流媒体技术
1.使用tcpdump和Gnuplot，绘制以下场景中每个时间点从客户端接收到的视频数据包总数。
	a)模型车稳定地远离路由器。 
	b)模型车离开房间。
	在这两种情况下，你能观察到什么？




